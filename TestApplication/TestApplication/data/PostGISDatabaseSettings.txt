# These sample data can be installed using MapWindow-sample-data-with-test-data.exe from 
# https://mapwingis.codeplex.com/releases
# This installer will also correctly set the MW_SAMPLEDATA environment variable

# First line is connection string
# Following lines are queries to execute

# Connection string to mapwingis database:
PG:host=localhost dbname=mapwingis user=postgres

# Create data schema , which will hold all new tables:
CREATE SCHEMA IF NOT EXISTS data AUTHORIZATION postgres

# Set grants:
GRANT ALL ON SCHEMA data TO mapwingis;

# Set privileges:
ALTER DEFAULT PRIVILEGES GRANT INSERT, SELECT, UPDATE, DELETE ON TABLES TO mapwingis;
ALTER DEFAULT PRIVILEGES GRANT SELECT, UPDATE, USAGE ON SEQUENCES TO mapwingis;

# Update search path:
ALTER DATABASE "mapwingis" SET SEARCH_PATH=data,public;
