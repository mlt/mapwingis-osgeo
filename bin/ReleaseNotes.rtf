{\rtf1\ansi\ansicpg1252\deff0\nouicompat\deflang1043\deflangfe1043{\fonttbl{\f0\fswiss\fprq2\fcharset0 Arial;}{\f1\fnil\fcharset0 Courier New;}{\f2\fnil\fcharset2 Symbol;}}
{\colortbl ;\red0\green0\blue255;\red192\green80\blue77;\red247\green150\blue70;\red155\green187\blue89;\red75\green172\blue198;\red79\green129\blue189;\red128\green100\blue162;\red255\green192\blue0;\red143\green176\blue140;}
{\*\generator Riched20 6.3.9600}\viewkind4\uc1 
\pard\nowidctlpar\b\f0\fs28\lang1033 What's New in 4.9.3\b0\fs20\par
\f1 Release date: December 22th, 2014\par
The last commit number in this release is 75400; full commit history can be found at {{\field{\*\fldinst{HYPERLINK https://mapwingis.codeplex.com/SourceControl/list/changesets }}{\fldrslt{https://mapwingis.codeplex.com/SourceControl/list/changesets\ul0\cf0}}}}\b\f0\fs24\par

\pard\nowidctlpar\li360\ul\fs20\par
General\line\ulnone\b0 This version has some huge enhancements, made by (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Geodatabase support using GDAL/OGR, tested with PostGIS. More info at {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/class_ogr_datasource.html#details }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/class_ogr_datasource.html#details\ul0\cf0}}}}\f0\fs20\par
{\pntext\f2\'B7\tab}Support for File-based vector formats using GDAL/OGR, like MapInfo TAB, KML, etc.\par
{\pntext\f2\'B7\tab}Interactive creation and editing of vector shapes (shapefile editor). More info at {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/class_shape_editor.html#details }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/class_shape_editor.html#details\ul0\cf0}}}}\f0\fs20\par
{\pntext\f2\'B7\tab}Comprehensive memory leak hunting and solving, using Deleaker: {{\field{\*\fldinst{HYPERLINK http://www.deleaker.com/ }}{\fldrslt{http://www.deleaker.com/\ul0\cf0}}}}\f0\fs20\par

\pard\nowidctlpar\li360\par
\ul\b Demo\par
\ulnone\b0 This version also has a demo application written in C#. It doesn't have the full functionality of MapWindow v4.8.8 ({{\field{\*\fldinst{HYPERLINK https://mapwindow4.codeplex.com/ }}{\fldrslt{https://mapwindow4.codeplex.com/\ul0\cf0}}}}\f0\fs20 ). For example the toolbox is not available and plug-ins are not supported. But the demo does support the new Shapefile editor and the new option to connect with a GeoDatabase, like PostGIS.\par
\par
\ul\b TestApplication\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added tests for new functionality:\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 PostGIS. (Paul Meems)\par
{\pntext\f2\'B7\tab}GridToImage (Paul Meems)\par
{\pntext\f2\'B7\tab}Save shapefile with unicode characters (Paul Meems)\par
{\pntext\f2\'B7\tab}Drawing layers (Paul Meems)\par

\pard\nowidctlpar\li360\par
\ul\b Updated API\line\ulnone\b0 See {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/newpage493.html }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/newpage493.html\ul0\cf0}}}}\f0\fs20\par

\pard\nowidctlpar\par

\pard\nowidctlpar\li360\ul\b Supporting libraries\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720\ulnone\b0 Updated to GDAL v2.0.0 (downloaded 19 Dec. 2014) with GEOS v3.4, PROJ4 v4.8, NetCDF v4.3, LizardTech (MrSID) v9.0, Intergraph/ERDAS (ECW) v5.0 using the pre-build binaries from {{\field{\*\fldinst{HYPERLINK http://www.gisinternals.com }}{\fldrslt{http://www.gisinternals.com\ul0\cf0}}}}\f0\fs20 . (Paul Meems)\par

\pard\nowidctlpar\par
\b\fs28\par
What's New in 4.9.2\b0\fs20\par
\f1 Release date: August 24th, 2014\par
The last commit number in this release is 74920; full commit history can be found at {{\field{\*\fldinst{HYPERLINK https://mapwingis.codeplex.com/SourceControl/list/changesets }}{\fldrslt{https://mapwingis.codeplex.com/SourceControl/list/changesets\ul0\cf0}}}}\b\f0\fs24\par

\pard\nowidctlpar\li360\b0\fs20\par
\ul\b Updated API\line\ulnone\b0 See also {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/newpage492.html }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/newpage492.html\ul0\cf0}}}}\f0\fs20\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added Utils.ReclassifyRaster (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added 2 extra PredefinedColorSchemes for grids: Rainbow, ReversedRainbow (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Utils.CalculateRaster (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Shapefile.Volatile (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Shapefile.ShapeRotation (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Shapefile.ShapeVisible (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added AxMap.ZoomBarMinZoom, AxMap.ZoomBarMaxZoom properties to artificially limit zooming range. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added GlobalSettings.ImageUpsamplingMode, Image.ImageDownsamplingMode properties to set default values for properties in constructor of Image class. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added GlobalSettings.LoadSymbologyOnAddLayer and GlobalsSettings.TilesThreadPoolSize properties. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Utils.ComUsageReport property to identify leaking of COM objcts. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added ShapefileCategories.GeneratePolygonColors. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added AxMap.ProjectionMismatchBehavior. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added AxMap.ZoomBoxStyle property. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added AxMap.AnimationOnZooming, AxMap.InertiaOnPanning, AxMap.ReuseTileBuffer, AxMap.ZoomBarVerbosity properties. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}GlobalSettings class: Added RasterOverviewCreation, RasterOverviewResampling, MinOverviewWidth, TiffCompression. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}FileManager class: Added HasGdalOverviews, ClearGdalOverviews, BuildGdalOverviews, NeedsGdalOverviews, RemoveProxyForGrid, HasValidProxyForGrid. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Image.GridProxyColorScheme, Measuring.IsUsingEllipsoid, Tiles.ServerProjection, Tiles.ProjectionStatus, Map.ProjToDegrees, Map.DegreesToProj, Map.PixelToDegrees, Map.DegreesToPixel, Utils.TileProjectionToGeoProjection, Utils.ErrorMsgFromObject. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Deprecated methods and properties can be found here: {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/deprecated.html }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/deprecated.html\ul0\cf0}}}}\f0\fs20\par

\pard\nowidctlpar\li360\par
\ul\b TestApplication\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added tests for new functionality:\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 Reclassify raster calculation. (Paul Meems)\par
{\pntext\f2\'B7\tab}Raster calculation. (Paul Meems)\par
{\pntext\f2\'B7\tab}AxMap.Clear. (Brad Hester)\par
{\pntext\f2\'B7\tab}Overviews/proxy for grids. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\ul\b\par
General\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 A number of small fixes (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 Empty shapefiles will be skipped when calculating max extents, preventing zooming to the equator;\par
{\pntext\f2\'B7\tab}Panning inertia turned off by default (deadlocks were reported on some occasions);\par
{\pntext\f2\'B7\tab}utf8 will be used when loading world file with GDAL (as it's already used for dataset filename);\par
{\pntext\f2\'B7\tab}Fixes for shape hot tracking functionality (Shapefile.HotTracking);\par
{\pntext\f2\'B7\tab}Max/min layer zoom properties added to serialization;\par
{\pntext\f2\'B7\tab}Serialization of map projection and custom tile providers;\par
{\pntext\f2\'B7\tab}Fixes for drawing of chart values and scalebar during snapshot;\par
{\pntext\f2\'B7\tab}A fix for a bug when map extents set in Form Designer aren't preserved.\par
{\pntext\f2\'B7\tab}When in measuring mode M hotkey will toggle the tool between measuring distance and area.\par
{\pntext\f2\'B7\tab}Zooming and panning animation by default will be used only if there is no data layers within view (csAuto value for respective properties).\par
{\pntext\f2\'B7\tab}A fix for Utils.ClipGridWithPolygon suggested here: {{\field{\*\fldinst{HYPERLINK http://bugs.mapwindow.org/view.php?id=2349 }}{\fldrslt{http://bugs.mapwindow.org/view.php?id=2349\ul0\cf0}}}}\f0\fs20\par
{\pntext\f2\'B7\tab}Optimization of headers/compilation speed.\par
{\pntext\f2\'B7\tab}A few memory leaks and warnings found with CppTest.\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Animation on zooming (both zooming in and out; only tile buffer is used). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Enhanced panning (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 New tiles are rendered during the panning operation;\par
{\pntext\f2\'B7\tab}Scale bar, zoom bar, etc will remain in place;\par
{\pntext\f2\'B7\tab}Animation to simulate inertia.\par

\pard\nowidctlpar\li360\ul\b\par
Zoombar\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Small tweaking of zoom bar: handle will snap to levels while moving. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Fixed pixel interval between notches to avoid rounding issues. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Styling for zoom box (AxMap.ZoomBoxStyle property). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Properties for latest functionality: AxMap.AnimationOnZooming, AxMap.InertiaOnPanning, AxMap.ReuseTileBuffer, AxMap.ZoomBarVerbosity. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}New zoom bar (displayed when map has a cs & projection). (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Shapefiles\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added Shapefile.ShapeRotation(shapeIndex), Shapefile.ShapeVisible(shapeIndex) - options for individual shapes overriding categories. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Shapefile.Volatile property - shapefiles marked as such will be excluded from layer buffer, so no full map redraw is needed to update them. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Auto loading of .mwsymb file for reprojected shapefile. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Simple greedy algorithm for polygon coloring problem (aka Four Color Theorem). It uses 4 colors for USA states shapefile and 5 colors for USA counties shapefile. New method: ShapefileCategories.GeneratePolygonColors. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Fixed couple of leaks and problems with shapefile validation. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Grid\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 A fix for an issue with raster data sources being still in use after removal from map. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Support of GDAL overviews for grids (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 If overviews exists direct rendering will be chosen rather than usage of proxy;\par
{\pntext\f2\'B7\tab}If neither overview no proxy exist, overviews will be created (if grid is large enough - GlobalSettings.MinOverviewWidth; if driver supports that; external .ovr format is used);\par
{\pntext\f2\'B7\tab}If proxy exists but overviews doesn't, proxy will be used;\par
{\pntext\f2\'B7\tab}Proxy will be created if overviews can't be created.\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 GTiff proxy will used compression set in GlobalSettings.TiffCompression. Also built-in overviews will be automatically created for it. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\ul\b\par
Tiles\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Zoom box flickering on tile rendering is eliminated. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Revised handling of tiles when server and map projection don't match (e.g. server - GMercator, map - WGS84 UTM zone) (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 No auto snapping to discrete zoom level as those calculations aren't precise and scale often change along the map;\par
{\pntext\f2\'B7\tab}When server projection is GMercator, minimum available zoom level will be 6 (distortions at smaller levels make them unusable; can be changed with GlobalSettings.TilesMinZoomOnProjectionMismatch);\par
{\pntext\f2\'B7\tab}Adjusted calculations in ZoomToTileLevel, so that tile size is as close to original as possible (though it usually will vary);\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added OpenStreetMap humanitarian TMS provider. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Fixes for zoom bar / discrete zooming for non-GMercator projections (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 Zooming to smallest levels will work (crude extrapolation will be used if view extents are outside world extents);\par
{\pntext\f2\'B7\tab}ZoomToTileLevel method won't change the center of view in current projection.\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Optimizations for tiles (Sergei Leschinsky):\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 No scaling when displaying tiles in native projection, they will be exactly 256*256 pixels, therefore rendering quality is the same as provided by original services (so far tested for Spherical Mercator only);\par
{\pntext\f2\'B7\tab}ZoomBehavior = zbUseTileLevels will be used for any changes of extents; so when it's on, it will be impossible to set extents not matched with some tile level;\par
{\pntext\f2\'B7\tab}No duplicate HTTP requests and unnecessary cache search.\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Some thread-safe locking for tiles screen buffer. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Utils\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added Utils.CalculateRaster method, populates a new raster from input ones based on specified expression, has support for raster and scalar comparisons and AND / OR operators. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Projections\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 A couple of fixes related to projection mismatch behavior. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}A fix to correctly reset map to empty projection. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}When setting new AxMap.GeoProjection property, the current geographic extents will be preserved (in case there is no data layers on the map). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Fixes for custom tile server projections, including zoom bar support (currently it affects only Amersfoort/RDNew). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Built-in projection mismatch testing (AxMap.ProjectionMismatchBehavior; mbIgnore by default). Automatic transformation for shapefiles is supported as an option. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added simple checks to ImportFromEPSG when attempting to import 3857 (Google Mercator) and 4326 (WGS84). (Brad Hester)\par
{\pntext\f2\'B7\tab}Google Mercator projection is initialized using WKT string instead of Proj.4 string. (Brad Hester)\par

\pard\nowidctlpar\li360\par
\ul\b Documentation\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 Updated to v4.9.2. It can be found at {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/ }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/\ul0\cf0}}}}\f0\fs20  (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added new examples (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Supporting libraries\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720\ulnone\b0 Updated to GDAL v1.11.0 (released 2014/04/16) with GEOS v3.4, PROJ4 v4.8, NetCDF v4.3, LizardTech (MrSID) v9.0, Intergraph/ERDAS (ECW) v5.0 using the pre-build binaries from {{\field{\*\fldinst{HYPERLINK http://www.gisinternals.com/sdk/ }}{\fldrslt{http://www.gisinternals.com/sdk/\ul0\cf0}}}}\f0\fs20 . (Paul Meems)\par

\pard\nowidctlpar\li360\par

\pard\nowidctlpar\b\fs28\par
What's New in 4.9.1\b0\fs20\par
\f1 Release date: April 6th, 2014\par
Note: This version is just to test the installer and find any backwards incompatibility.\par
The last commit number in this release is 74161; full commit history can be found at {{\field{\*\fldinst{HYPERLINK https://mapwingis.codeplex.com/SourceControl/list/changesets }}{\fldrslt{https://mapwingis.codeplex.com/SourceControl/list/changesets\ul0\cf0}}}}\b\f0\fs24\par

\pard\nowidctlpar\li360\b0\fs20\par
\ul\b Updated API\line\ulnone\b0 See also {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/newpage491.html }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/newpage491.html\ul0\cf0}}}}\f0\fs20\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 New \cf2\b Grid Members\cf0\b0 : RetrieveColorScheme, GenerateColorScheme, CreateImageProxy, RemoveImageProxy, RetrieveOrGenerateColorScheme, Get/PutRow (overload), Get/PutFloatWindow (overload).\par
{\pntext\f2\'B7\tab}New \cf2\b Grid Properties\cf0\b0 : PreferedDisplayMode, CanDisplayWithoutProxy, HasValidImageProxy.\par
{\pntext\f2\'B7\tab}New\cf3\b  Image Properties\cf0\b0 : IsGridProxy, ExternalColorScheme, AllowExternalColorScheme, IsUsingExternalColorScheme, ExternalColorSchemeBandIndex, IsRgb, SourceFilename; \par
{\pntext\f2\'B7\tab}New\cf3\b  Image Methods\cf0\b0 : OpenAsGrid, SetTransparentColor.\par
{\pntext\f2\'B7\tab}New \cf4\b GlobalSettings Properties\cf0\b0 : LocalizedString, GridProxyFormat, MaxNoProxyGridSizeMb, GridProxyMode, MaxUniqueValuesCountForGridScheme, GrabMapProjectionFromFirstLayer, RandomColorSchemeForGrids, DefaultColorSchemeForGrids.\par
{\pntext\f2\'B7\tab}New \cf5\b GridColorScheme Methods\cf0\b0 : ApplyColoringType, ApplyGradientModel (just shortcuts).\par
{\pntext\f2\'B7\tab}New \cf6\b GeoProjection Methods\cf0\b0 : SetWgs84.\par
{\pntext\f2\'B7\tab}New \cf6\b GeoProjection Properties\cf0\b0 : IsFrozen.\par
{\pntext\f2\'B7\tab}New \cf7\b Measuring Properties\cf0\b0 : DisplayAngles.\par
{\pntext\f2\'B7\tab}New \cf8\b Map Methods\cf0\b0 : Clear, AddLayerFromFilename, Redraw2.\par
{\pntext\f2\'B7\tab}New \cf8\b Map Properties\cf0\b0 : ScalebarUnits, KnownExtents, ZoomBehavior, ShowCoordinates.\par
{\pntext\f2\'B7\tab}New \cf8\b Map Events\cf0\b0 : LayersChanges (fires when layers either were added or removed).\par
{\pntext\f2\'B7\tab}New \cf9\b Extents Methods\cf0\b0 : ToDebugString, PointIsWithin, ToShape.\par
{\pntext\f2\'B7\tab}New \cf9\b Extents Property\cf0\b0 : Center.\par

\pard\nowidctlpar\li360\par
\ul\b TestApplication\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Created a test application to test several methods and show sample code (Paul Meems)\par

\pard\nowidctlpar\li360\ul\b\par
General\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Fixed several memory leaks. (Brad Hester)\par
{\pntext\f2\'B7\tab}Update code as suggested by CppCheck ({{\field{\*\fldinst{HYPERLINK http://cppcheck.sourceforge.net/ }}{\fldrslt{http://cppcheck.sourceforge.net/\ul0\cf0}}}}\f0\fs20 ) (Brad Hester)\par
{\pntext\f2\'B7\tab}Filenames are handled as UTF16 (CStringW) rather than ANSI in significant part of code. Filenames for GDAL datasets and those serialized to XML are passed as UTF8. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Measuring tool will work when no map projection is set. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Better support in .NET PropertyGrid: properties Latitude, Longitude, TileProvider, Projection, CurrentZoom (tiles can rendered in form designer); several properties marked as nonbrowsable. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Serialization of category indices for shapes (so manually assigned categories can be restored as well). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Serialization: default properties for tiles and images won't be serialized, FilenamesEncoding = "utf8" attribute for all XML's written to disk. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Several hotkeys for map ("+" = zoom in; "-" = zoom out; "*" - zoom to closest tile level; "Home" = ZoomToMaxExtents; "Backspace" = zoom to previous extents; "Shift + Left" and "Shift + Right" zoom to the prev/ next layer; "Z" = ZoomIn tool; "M" = measuring tool; "Space" = switches to panning mode). (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\ul\b\par
Map\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Map.RemoveAllLayers will clear map projection. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Map.ZoomToTileLevel will work when map projection is other than Google Mercator (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Updated Map.VersionNumber property to return file version and its rendering on map (upper right corner). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Map.Clear method to revert to default settings. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Map.AddLayerFromFilename (automatically chooses how to open datasource, as image, as image with grid rendering, or image proxy for grid). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Map.KnownExtents property with list of extents for all countries. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Map.ZoomBehavior with UseTileLevels option to avoid scaling of tiles. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Map.ShowCoordinates: Displaying of coordinates under cursor on map. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Tweaks for drawing buffers: measuring won't flicker on tile painting. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}New Map.Redraw2 methods with tkRedrawType parameter. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Scalebar\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 A fix for scalebar units, when decimal degrees are used as map units. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Updated scalebar: 3 modes (metric, American, google maps style; Map.ScalebarUnits) + much nicer rendering.  (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Scalebar values from 1 to 10 will be displayed in #.# format, as it turned out they are not necessarily rounded. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Shapefiles\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Support serialization of in-memory shapefiles. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Solved issue #2328: Multi points are not rendered. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Solved issue #2305: Spatial operations (dissolve, clipping, etc.) don't work with Polygon M files. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Fix: .prj file won't be written if projection string for shapefile is empty. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Shape.ClosestPoints method - returns line segment connecting this shape with another one passed as parameter. Uses GEOS method nearestPoints(). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Shapefile.GetClosestPoint renamed to Shapefile.GetClosestVertex to avoid confusion with new Shape.ClosestPoints. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}A fix for polygon layer drawing: per-shape drawing will be used when printing (otherwise there can be SEH exception at some printer drivers when path is too large), also in some cases fill for polyline layers could be drawn. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Spelling error: Shape.Boundry -> Shape.Boundary (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Displaying progress of shapefile validation (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}A fix for Shape.ImportFromWKT (in fact a problem in Shape.CopyFrom) (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Shape.AddPoint overload methods with Z and M parameters are added. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Shapefile validation for geoprocessing operations. The mode can be set by GlobalSettings.ShapeInputValidation, GlobalSettings.ShapeOutputValidation (is off by default). Affects methods taking shapefile as a parameter or returning a shapefile (but not those working on the level of single shapes). When on, will check validity of shapes, try to fix them, and acts according the mode in case of failure. Validation report can be accessed via Shapefile.LastInputValidation, Shapefile.LastOutputValidation. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Field stats calculation of Shapefile.Dissolve and Shapefile.AggregateShapes methods (min, max, sum, average, weighted average, mode). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Displaying progress of shapefile validation. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Grid\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Added support for NetCDF. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}A code for handling grid files and grid colour schemes. Migrated from .NET part (MapWindow4). Grids are handled in Map.AddLayer, where an image representation is created for them. Not fully completed, but already somewhat functional. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Double version of Grid.GetFloatWindow/Grid.PutFloatWindow for Utils.ClipGridWithPolygon2. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}New API members for grids (choosing of proxy format - BMP/GTiff; creating, removing, checking for valid proxy; configuration of default opening behaviour in GlobalSettings; several grid relalated members in Image class). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}double overloads of Grid.Get/PutRow, Grid.Get/PutFloatWindow to be used in Utils.ClipGridWithPolygon2; regular float version looses precision for long integers;\par

\pard\nowidctlpar\li360\par
\ul\b Image\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 A fix for images opened as grids. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\ul\b\par
Tiles\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Updated version numbers for some tile providers. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}New Map.TilesLoaded event. Snapshot functions will schedule the loading of tiles in case at least one is missing in cache. TilesLoaded event will be fired afterwards with IsSnapshot = true parameter. Then a snapshot of the same extents with all the tiles can be done. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Projection for map will be grabbed from the first shapefile layer (so tiles can work out of the box). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Request logging (Tiles.StartLogRequests, Tiles.StopLogRequests) (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Extents clipping is off when server projection is GoogleMercator - there is no reliable way to convert world extents to arbitrary map projection. TilesLoaded event is fired correctly - doesn't take into account tiles from previous requests. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Utils\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 ClipGridWithPolygon method has proper return values.  (Brad Hester)\par

\pard\nowidctlpar\li360\par
\ul\b Projections\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li1080 Projection for map will be grabbed from the first shapefile layer. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added GeoProjection.Clear method. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added GeoProjection.Clone method. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}It's not allowed to changed GeoProjection set to map, only set a new one (GeoProjection.IsFrozen property).  (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Projection will be grabbed from image and grids in Map.AddLayer not only shapefiles (GlobalSettings.GrabMapProjectionFromFirstLayer - default true). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}GeoProjection.TryAutoDetectEpsg (GDAL implementation; weak now, but can be enhanced over time).\par

\pard\nowidctlpar\li360\par
\ul\b Supporting libraries\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720\ulnone\b0 Changed  the build proces so we can use the pre-build binaries from {{\field{\*\fldinst{HYPERLINK http://www.gisinternals.com/sdk/ }}{\fldrslt{http://www.gisinternals.com/sdk/\ul0\cf0}}}}\f0\fs20 . We're now using GDAL v1.11Dev (released 2013/04/13), with GEOS v3.4, PROJ4 v4.8, NetCDF v4.3, LizardTech (MrSID) v9.0, Intergraph/ERDAS (ECW) v5.0 (Tamas Szekeres, Paul Meems)\par
{\pntext\f2\'B7\tab}Updated the SpatialIndex library ({{\field{\*\fldinst{HYPERLINK http://libspatialindex.org }}{\fldrslt{http://libspatialindex.org\ul0\cf0}}}}\f0\fs20 ) to version 1.8.1 (Brad Hester)\par

\pard\nowidctlpar\li360\par

\pard\nowidctlpar\b\fs24\par
\fs28 What's New in 4.9.0\b0\fs20\par
\f1 Release date: 18 June 2013\b\f0\fs24\par

\pard\nowidctlpar\li360\b0\fs20\par
\ul\b API\line\ulnone\b0 See also {{\field{\*\fldinst{HYPERLINK http://www.mapwindow.org/documentation/mapwingis4.9/newpage490.html }}{\fldrslt{http://www.mapwindow.org/documentation/mapwingis4.9/newpage490.html\ul0\cf0}}}}\f0\fs20\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Some API changes have been made, mostly textual: lower-case vs upper-case naming. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Optimizations\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Optimization of snapshot drawing. Internal buffers aren't used in this case. But rather the drawing is performed directly to the target dc. This can spare RAM in case of printing of large paper formats with high dpi. A callback function is still needed to facilitate snapshot of tiles after their async loading. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Grid\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 New members in Grid class to handle multiband grids (like NetCDF): Grid.OpenBand(bandIndex), Grid.NoBands, Grid.SourceType, Grid.ActiveBand, Grid.Extents. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Image\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720\ulnone\b0 Image.Warped property. Returns true if GDAL virtual warped dataset was created to open the image. Which is the case for images with non-zero rotation parameters in the world file. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Support for Unicode characters in world file name for images. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Utils\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Utils.GridStatisticToShapefile will handle a case of polygons which are smaller than grid cells. Utils.GridStatisticsForPolygon is added - a faster alternative. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added Utils.MaskRaster method. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Projections\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Map.ZoomToWorld(), GeoProjection.SetGoogleMeractor() to simplify commonly used tasks. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Projection bounds checks for tiles. Ensure correct display of tiles at small zoom levels (1, 2). (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}GeoProjection.HasTransformation property. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Scalebar\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Scalebar won't be displayed at tile zoom levels less than 3. There is little sense in it because of severe projection distortions. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Scalebar will show "real" distances measured on ellipsoid if current projection can be transformed to WGS84. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\ul\b Tiles\ulnone\b0\par

\pard{\pntext\f2\'B7\tab}{\*\pn\pnlvlblt\pnf2\pnindent0{\pntxtb\'B7}}\nowidctlpar\fi-360\li720 Some fixes: Map.SnapShot will draw tiles, erroneous half-pixel offset for bmp images removed. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Some maximum scale checks for tile providers. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Tiles::PrefetchToFolder method to cache tiles as .png files on disk. A basic implementation of disk cache provider which can be extended later. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Tiles::get_CurrentZoom property. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Properties Map::LayerMaxVisibleZoom and Map::LayerMinVisibleZoom to set dynamic visibility by tile zoom levels. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Map::ZoomToTileLevel(int) method. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Two new tile providers: Rosreestr and Topomapper. WMSGMercProvider base class which can be used for any other WMS servers with EPSG:3857/900913. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Updated versions for a couple of tile providers. (Sergei Leschinsky)\par
{\pntext\f2\'B7\tab}Added support for native tiling. (Sergei Leschinsky)\par

\pard\nowidctlpar\li360\par
\par
}
 